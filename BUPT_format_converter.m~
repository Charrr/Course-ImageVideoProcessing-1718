function [ out ] = BUPT_format_converter( in, arg )
%Transforms images between RGB and YUV colour models.
%   Input Parameters:
%           in: 3-dimensional RGB/YUV data matrix
%   Output Parameters:
%           out: 3-dimensional YUV/RGB data matrix

if nargin == 1
    
    R = in(:,:,1);
    G = in(:,:,2);
    B = in(:,:,3);
    
    Y = round( 0.257*R + 0.504*G + 0.098*B + 16 );
    U = round( -0.148*R - 0.291*G + 0.439*B + 128 );
    V = round( 0.439*R - 0.368*G - 0.071*B + 128 );
    
    out = cat(3,Y,U,V);
    
else if strcmp(arg, 'inverse')
        
        Y = in(:,:,1);
        U = in(:,:,2);
        V = in(:,:,3);
        
        R = round( 1.1641*Y - 0.0018*U
        
    else
        error('To use the inverse conversion, name the second argument ''inverse''.');
        
    end
    
    
end

